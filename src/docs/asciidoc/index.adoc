= Dongoorami REST Docs
:doctype: book
:icons: font
:source-highlighter: highlightjs
:toc: left
:toclevels: 2
:sectlinks:

ifndef::snippets[]
:snippets: build/generated-snippets
endif::[]

== 회원 API
=== 토큰 재발급

.Request
include::{snippets}/MemberControllerTest/reissueToken/http-request.adoc[]
include::{snippets}/MemberControllerTest/reissueToken/request-fields.adoc[]

.Response
include::{snippets}/MemberControllerTest/reissueToken/http-response.adoc[]
include::{snippets}/MemberControllerTest/reissueToken/response-fields.adoc[]

=== 로그아웃

.Request
include::{snippets}/MemberControllerTest/logout/http-request.adoc[]
include::{snippets}/MemberControllerTest/logout/request-fields.adoc[]

.Response
include::{snippets}/MemberControllerTest/logout/http-response.adoc[]

=== 회원 탈퇴

.Request
include::{snippets}/MemberControllerTest/quit/http-request.adoc[]
include::{snippets}/MemberControllerTest/quit/request-fields.adoc[]

.Response
include::{snippets}/MemberControllerTest/quit/http-response.adoc[]

=== 프로필 이미지 수정
==== 이미지 예시가 들어가있어 request 부분이 복잡한데 이름을 image로 둔 multipart/form-data 넣으시면 됩니다

.Request
include::{snippets}/MemberControllerTest/updateProfileImage/http-request.adoc[]

.Response
include::{snippets}/MemberControllerTest/updateProfileImage/http-response.adoc[]
include::{snippets}/MemberControllerTest/updateProfileImage/response-fields.adoc[]

== 동행 API
=== 동행 구인 게시글 작성
.Request
include::{snippets}/AccompanyControllerTest/createAccompanyPost/http-request.adoc[]
include::{snippets}/AccompanyControllerTest/createAccompanyPost/form-parameters.adoc[]
include::{snippets}/AccompanyControllerTest/createAccompanyPost/request-parts.adoc[]

.Response
include::{snippets}/AccompanyControllerTest/createAccompanyPost/http-response.adoc[]

=== 동행 구인 게시글 목록 조회(무한 스크롤)
==== 동행 구인 게시글 목록 조회(최초 요청)
최초 요청의 경우 "필요한 동행 구인글 개수(size)"만 쿼리 파라미터 값으로 전달

.Request
include::{snippets}/AccompanyControllerTest/getAccompanyPostsFirst/http-request.adoc[]
include::{snippets}/AccompanyControllerTest/getAccompanyPostsFirst/query-parameters.adoc[]

.Response
include::{snippets}/AccompanyControllerTest/getAccompanyPostsFirst/http-response.adoc[]
include::{snippets}/AccompanyControllerTest/getAccompanyPostsFirst/response-fields.adoc[]

==== 동행 구인 게시글 목록 조회(이후 요청)
이후 요청의 경우 "마지막으로 받은 게시글 id(cursorId)"를 쿼리 파라미터 값으로 함께 전달

.Request
include::{snippets}/AccompanyControllerTest/getAccompanyPostsAfterFirst/http-request.adoc[]
include::{snippets}/AccompanyControllerTest/getAccompanyPostsAfterFirst/query-parameters.adoc[]

.Response
include::{snippets}/AccompanyControllerTest/getAccompanyPostsAfterFirst/http-response.adoc[]
include::{snippets}/AccompanyControllerTest/getAccompanyPostsAfterFirst/response-fields.adoc[]